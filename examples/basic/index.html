<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-type' content='text/html; charset=utf-8'>
    <title>Basic Example</title>
    <link rel="stylesheet" href="../../node_modules/font-awesome/css/font-awesome.css"/>
    <style>
      * {
        font-family: Roboto, sans-serif;
      }
      grape-browser {
        display: block;
        font-size: 13px;
      }
    </style>
  </head>
  <body>
    <script src="../../node_modules/webcomponents.js/webcomponents-lite.js"></script>
    <script src="../../node_modules/react/dist/react.js"></script>
    <script src="../../node_modules/reactive-elements/src/reactive-elements.js"></script>
    <script src="../../dist/grape-browser.js"></script>
    <script src="./data.js"></script>

    <grape-browser></grape-browser>

    <script>
      function init() {
        var component = document.querySelectorAll('grape-browser')[0]
        component.setProps({
          data: window.data,
          isExternal: true,
          images: {
            traubyReading: '../images/trauby-reading.png',
            traubyJuggling: '../images/trauby-juggling.png',
            noDetail: '../images/no-detail.png'
          },
          onAddIntegration: function() {
            console.log('onAddIntegration')
          },
          onSelectFacet: function(data) {
            console.log('onSelectFacet', data)
          },
          onSelectObject: function(data) {
            console.log('onSelectObject', data)
          }
        })

        var keysMap = {
          40: 'down',
          38: 'up',
          39: 'right',
          37: 'left',
          13: 'enter'
        }

        window.addEventListener('keydown', function (e)Â {
          var action = keysMap[e.keyCode]
          if (action == 'enter') {
            console.log(component.getFocusedObject())
          } else {
            switch (action) {
              case 'right':
                component.selectFacet('next')
                break
              case 'left':
                component.selectFacet('prev')
                break
              case 'down':
                component.focusObject('next')
                break
              case 'up':
                component.focusObject('prev')
                break
            }
          }
        })
      }

      document.addEventListener('DOMContentLoaded', init)
    </script>
  </body>
</html>
